%agent: E(r)
%agent: R(e{u,p},r)

%var: 'd' |E()|

E(r[.]),R(e[.]) -> E(r[1]),R(e[1]) @ 1
R(e{u}[1]),E(r[1]) -> R(e{p}[1]),E(r[1]) @1
. -> E() @1
. -> R() @1
R(e[_],r[.]),R(e[r.E],r[.]) -> R(e[_],r[1]),R(e[r.E],r[1]) @1
R(e{#}) -> R(e{u}) @1
R(e{p}[#]) -> R(e{u}[#]) @1
E() -> . @ |E(r[1]),R(e[1],r[2]),R(r[2],e[3]),E(r[3])|
R() -> . @ d

%init: 10 E(r[1]),R(e[1],r[2]),R(r[2],e[3]),E(r[3])
